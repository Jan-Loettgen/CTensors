\hypertarget{tensor__2d__threaded_8c}{}\doxysection{tensor\+\_\+2d\+\_\+threaded.\+c File Reference}
\label{tensor__2d__threaded_8c}\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include \char`\"{}tensor\+\_\+2d.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tensor\+\_\+2d\+\_\+threaded.\+h\char`\"{}}\newline
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structarray__op__args}{array\+\_\+op\+\_\+args}}
\item 
struct \mbox{\hyperlink{structarray__mat__mul__args}{array\+\_\+mat\+\_\+mul\+\_\+args}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{tensor__2d__threaded_8c_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\+\_\+\+NUM\+\_\+\+THREADS}}~13
\item 
\#define \mbox{\hyperlink{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}{MIN\+\_\+\+BATCH}}~32
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \mbox{\hyperlink{structarray__op__args}{array\+\_\+op\+\_\+args}} \mbox{\hyperlink{tensor__2d__threaded_8c_aca78a11d086ce891f7a8b9db2d9ed2d7}{array\+\_\+op\+\_\+args}}
\item 
typedef struct \mbox{\hyperlink{structarray__mat__mul__args}{array\+\_\+mat\+\_\+mul\+\_\+args}} \mbox{\hyperlink{tensor__2d__threaded_8c_a70eb961a476aa58a32264d34dea7b43d}{array\+\_\+mat\+\_\+mul\+\_\+args}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{tensor__2d__threaded_8c_abe4111a664e1d9e5ed11203805b028bc}{mat\+\_\+add\+\_\+T}} (\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$mat\+\_\+a, \mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$mat\+\_\+b, \mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$mat\+\_\+out)
\begin{DoxyCompactList}\small\item\em Function adds two input matricies and reutrns a new matrix, addition is multithreaded. Function adds two input matricies, of the same shape, and returns a new matrix of the same shape as the input matricies. The addition is multithreaded using pthreads, which may decrease computation time for large matricies relative to unthreaded \textquotesingle{}mat\+\_\+add\textquotesingle{} function. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{tensor__2d__threaded_8c_a08e1c83173e87219ea158bed8099571b}{mat\+\_\+sub\+\_\+T}} (\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$mat\+\_\+a, \mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$mat\+\_\+b, \mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$mat\+\_\+out)
\begin{DoxyCompactList}\small\item\em Function subtracts second input matrix from first and reutrns a new matrix, subtraction is multithreaded. Function subtracts matrix \textquotesingle{}mat\+\_\+b\textquotesingle{} from matrix \textquotesingle{}mat\+\_\+a\textquotesingle{} and returns a new matrix of the same shape as the input matricies. The subtraction is multithreaded using pthreads, which may decrease computation time for large matricies relative to unthreaded \textquotesingle{}mat\+\_\+subtract\textquotesingle{} function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{tensor__2d__threaded_8c_a5747ce5beae65002b9ee2c4a4cf8c329}\label{tensor__2d__threaded_8c_a5747ce5beae65002b9ee2c4a4cf8c329}} 
\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}!MAX\_NUM\_THREADS@{MAX\_NUM\_THREADS}}
\index{MAX\_NUM\_THREADS@{MAX\_NUM\_THREADS}!tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
\doxysubsubsection{\texorpdfstring{MAX\_NUM\_THREADS}{MAX\_NUM\_THREADS}}
{\footnotesize\ttfamily \#define MAX\+\_\+\+NUM\+\_\+\+THREADS~13}



Definition at line \mbox{\hyperlink{tensor__2d__threaded_8c_source_l00008}{8}} of file \mbox{\hyperlink{tensor__2d__threaded_8c_source}{tensor\+\_\+2d\+\_\+threaded.\+c}}.

\mbox{\Hypertarget{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}\label{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}} 
\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}!MIN\_BATCH@{MIN\_BATCH}}
\index{MIN\_BATCH@{MIN\_BATCH}!tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
\doxysubsubsection{\texorpdfstring{MIN\_BATCH}{MIN\_BATCH}}
{\footnotesize\ttfamily \#define MIN\+\_\+\+BATCH~32}



Definition at line \mbox{\hyperlink{tensor__2d__threaded_8c_source_l00009}{9}} of file \mbox{\hyperlink{tensor__2d__threaded_8c_source}{tensor\+\_\+2d\+\_\+threaded.\+c}}.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{tensor__2d__threaded_8c_a70eb961a476aa58a32264d34dea7b43d}\label{tensor__2d__threaded_8c_a70eb961a476aa58a32264d34dea7b43d}} 
\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}!array\_mat\_mul\_args@{array\_mat\_mul\_args}}
\index{array\_mat\_mul\_args@{array\_mat\_mul\_args}!tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
\doxysubsubsection{\texorpdfstring{array\_mat\_mul\_args}{array\_mat\_mul\_args}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structarray__mat__mul__args}{array\+\_\+mat\+\_\+mul\+\_\+args}} \mbox{\hyperlink{structarray__mat__mul__args}{array\+\_\+mat\+\_\+mul\+\_\+args}}}

\mbox{\Hypertarget{tensor__2d__threaded_8c_aca78a11d086ce891f7a8b9db2d9ed2d7}\label{tensor__2d__threaded_8c_aca78a11d086ce891f7a8b9db2d9ed2d7}} 
\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}!array\_op\_args@{array\_op\_args}}
\index{array\_op\_args@{array\_op\_args}!tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
\doxysubsubsection{\texorpdfstring{array\_op\_args}{array\_op\_args}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structarray__op__args}{array\+\_\+op\+\_\+args}} \mbox{\hyperlink{structarray__op__args}{array\+\_\+op\+\_\+args}}}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{tensor__2d__threaded_8c_abe4111a664e1d9e5ed11203805b028bc}\label{tensor__2d__threaded_8c_abe4111a664e1d9e5ed11203805b028bc}} 
\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}!mat\_add\_T@{mat\_add\_T}}
\index{mat\_add\_T@{mat\_add\_T}!tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
\doxysubsubsection{\texorpdfstring{mat\_add\_T()}{mat\_add\_T()}}
{\footnotesize\ttfamily int mat\+\_\+add\+\_\+T (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$}]{mat\+\_\+a,  }\item[{\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$}]{mat\+\_\+b,  }\item[{\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$}]{mat\+\_\+out }\end{DoxyParamCaption})}



Function adds two input matricies and reutrns a new matrix, addition is multithreaded. Function adds two input matricies, of the same shape, and returns a new matrix of the same shape as the input matricies. The addition is multithreaded using pthreads, which may decrease computation time for large matricies relative to unthreaded \textquotesingle{}mat\+\_\+add\textquotesingle{} function. 

Note function returns NULL if input matricis are NULL or of different dimensions.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mat\+\_\+a} & A pointer to matrix a in same shape as matrix b \\
\hline
\mbox{\texttt{ in}}  & {\em mat\+\_\+b} & A pointer to matrix b in same shape as matrix a \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tensor\+\_\+2d$\ast$ A pointer to a matrix, whos elements are the sum of the corresponding elements in matricies a and b. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{tensor__2d__threaded_8c_source_l00040}{40}} of file \mbox{\hyperlink{tensor__2d__threaded_8c_source}{tensor\+\_\+2d\+\_\+threaded.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00040                                                                      \{}
\DoxyCodeLine{00041     \textcolor{keywordflow}{if} (mat\_a == NULL || mat\_b == NULL|| mat\_out == NULL)\{}
\DoxyCodeLine{00042         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00043     \}}
\DoxyCodeLine{00044     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}} != mat\_b-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}} || mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}} != mat\_out-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}})\{}
\DoxyCodeLine{00045         \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{00046     \}}
\DoxyCodeLine{00047     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}} != mat\_b-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}} || mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}} != mat\_out-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}})\{}
\DoxyCodeLine{00048         \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{00049     \}}
\DoxyCodeLine{00050 }
\DoxyCodeLine{00051     \textcolor{keywordtype}{int} batch = mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a55ed2709aa79847a1dbd09e87e08deeb}{n\_elems}}/\mbox{\hyperlink{tensor__2d__threaded_8c_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}};}
\DoxyCodeLine{00052     \textcolor{keywordflow}{if} (batch<\mbox{\hyperlink{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}{MIN\_BATCH}})\{}
\DoxyCodeLine{00053         batch = \mbox{\hyperlink{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}{MIN\_BATCH}};}
\DoxyCodeLine{00054     \}}
\DoxyCodeLine{00055 }
\DoxyCodeLine{00056     \textcolor{keywordtype}{int} num\_threads = mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a55ed2709aa79847a1dbd09e87e08deeb}{n\_elems}}/batch;}
\DoxyCodeLine{00057     \mbox{\hyperlink{structarray__op__args}{array\_op\_args}} args\_arr[num\_threads];}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_threads; i++)\{}
\DoxyCodeLine{00060         \mbox{\hyperlink{structarray__op__args}{array\_op\_args}} args;}
\DoxyCodeLine{00061         args.\mbox{\hyperlink{structarray__op__args_aafe6b04ac054443a9526cd9ededecf83}{arr\_1}} = mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a4e4247a26be28cb685b4ebbfb0108f3e}{data}} + i*batch;}
\DoxyCodeLine{00062         args.\mbox{\hyperlink{structarray__op__args_a82e13449271d083fbdd32c94f567789c}{arr\_2}} = mat\_b-\/>\mbox{\hyperlink{structtensor__2d_a4e4247a26be28cb685b4ebbfb0108f3e}{data}} + i*batch;}
\DoxyCodeLine{00063         args.\mbox{\hyperlink{structarray__op__args_a5695b4a702cd818e9602f73110df476e}{arr\_out}} = mat\_out-\/>\mbox{\hyperlink{structtensor__2d_a4e4247a26be28cb685b4ebbfb0108f3e}{data}}+ i*batch;}
\DoxyCodeLine{00064         \textcolor{keywordflow}{if} (i == num\_threads-\/1)\{}
\DoxyCodeLine{00065             args.\mbox{\hyperlink{structarray__op__args_a9d50a6471ff7d40764a6a7d59806db50}{length}} = batch+mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a55ed2709aa79847a1dbd09e87e08deeb}{n\_elems}}\%num\_threads;}
\DoxyCodeLine{00066         \}}
\DoxyCodeLine{00067         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00068         args.\mbox{\hyperlink{structarray__op__args_a9d50a6471ff7d40764a6a7d59806db50}{length}} = batch;}
\DoxyCodeLine{00069         \}}
\DoxyCodeLine{00070         args\_arr[i] = args;}
\DoxyCodeLine{00071     \}}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073     pthread\_t threads[num\_threads];}
\DoxyCodeLine{00074     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_threads; i++)\{}
\DoxyCodeLine{00075         \textcolor{keywordtype}{void}* args\_ptr = \&(args\_arr[i]);}
\DoxyCodeLine{00076         pthread\_create(\&(threads[i]), NULL, array\_add, args\_ptr);}
\DoxyCodeLine{00077     \}}
\DoxyCodeLine{00078 }
\DoxyCodeLine{00079     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_threads; i++)\{}
\DoxyCodeLine{00080         pthread\_join(threads[i], NULL);}
\DoxyCodeLine{00081     \}}
\DoxyCodeLine{00082     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00083 \}}

\end{DoxyCode}
\mbox{\Hypertarget{tensor__2d__threaded_8c_a08e1c83173e87219ea158bed8099571b}\label{tensor__2d__threaded_8c_a08e1c83173e87219ea158bed8099571b}} 
\index{tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}!mat\_sub\_T@{mat\_sub\_T}}
\index{mat\_sub\_T@{mat\_sub\_T}!tensor\_2d\_threaded.c@{tensor\_2d\_threaded.c}}
\doxysubsubsection{\texorpdfstring{mat\_sub\_T()}{mat\_sub\_T()}}
{\footnotesize\ttfamily int mat\+\_\+sub\+\_\+T (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$}]{mat\+\_\+a,  }\item[{\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$}]{mat\+\_\+b,  }\item[{\mbox{\hyperlink{structtensor__2d}{tensor\+\_\+2d}} $\ast$}]{mat\+\_\+out }\end{DoxyParamCaption})}



Function subtracts second input matrix from first and reutrns a new matrix, subtraction is multithreaded. Function subtracts matrix \textquotesingle{}mat\+\_\+b\textquotesingle{} from matrix \textquotesingle{}mat\+\_\+a\textquotesingle{} and returns a new matrix of the same shape as the input matricies. The subtraction is multithreaded using pthreads, which may decrease computation time for large matricies relative to unthreaded \textquotesingle{}mat\+\_\+subtract\textquotesingle{} function. 

Note function returns NULL if input matricis are NULL or of different dimensions.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em mat\+\_\+a} & A pointer to a matrix from which matrix \textquotesingle{}mat\+\_\+b\textquotesingle{} should be subtracted \\
\hline
\mbox{\texttt{ in}}  & {\em mat\+\_\+b} & A pointer to the matrix which should be subtracted from matrix \textquotesingle{}mat\+\_\+a\textquotesingle{}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tensor\+\_\+2d$\ast$ Pointer to a new matrix, whos elements are the corrspoding elements in matrix \textquotesingle{}mat\+\_\+a\textquotesingle{} a minus the corresponding elements in matrix \textquotesingle{}mat\+\_\+b\textquotesingle{}. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{tensor__2d__threaded_8c_source_l00102}{102}} of file \mbox{\hyperlink{tensor__2d__threaded_8c_source}{tensor\+\_\+2d\+\_\+threaded.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00102                                                                      \{}
\DoxyCodeLine{00103     \textcolor{keywordflow}{if} (mat\_a == NULL || mat\_b == NULL|| mat\_out == NULL)\{}
\DoxyCodeLine{00104         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00105     \}}
\DoxyCodeLine{00106     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}} != mat\_b-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}} || mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}} != mat\_out-\/>\mbox{\hyperlink{structtensor__2d_a74f3fe7324753175d7a4af46c6588d38}{n\_cols}})\{}
\DoxyCodeLine{00107         \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{00108     \}}
\DoxyCodeLine{00109     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}} != mat\_b-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}} || mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}} != mat\_out-\/>\mbox{\hyperlink{structtensor__2d_a809ce78f21bd51f42dc21a0881e0eb33}{n\_rows}})\{}
\DoxyCodeLine{00110         \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{00111     \}}
\DoxyCodeLine{00112 }
\DoxyCodeLine{00113     \textcolor{keywordtype}{int} batch = mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a55ed2709aa79847a1dbd09e87e08deeb}{n\_elems}}/\mbox{\hyperlink{tensor__2d__threaded_8c_a5747ce5beae65002b9ee2c4a4cf8c329}{MAX\_NUM\_THREADS}};}
\DoxyCodeLine{00114     \textcolor{keywordflow}{if} (batch<\mbox{\hyperlink{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}{MIN\_BATCH}})\{}
\DoxyCodeLine{00115         batch = \mbox{\hyperlink{tensor__2d__threaded_8c_a9c87b4139720114585489c5a9b792801}{MIN\_BATCH}};}
\DoxyCodeLine{00116     \}}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00118     \textcolor{keywordtype}{int} num\_threads = mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a55ed2709aa79847a1dbd09e87e08deeb}{n\_elems}}/batch;}
\DoxyCodeLine{00119     }
\DoxyCodeLine{00120     \mbox{\hyperlink{structarray__op__args}{array\_op\_args}} args\_arr[num\_threads];}
\DoxyCodeLine{00121 }
\DoxyCodeLine{00122     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_threads; i++)\{}
\DoxyCodeLine{00123         \mbox{\hyperlink{structarray__op__args}{array\_op\_args}} args;}
\DoxyCodeLine{00124         args.\mbox{\hyperlink{structarray__op__args_aafe6b04ac054443a9526cd9ededecf83}{arr\_1}} = mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a4e4247a26be28cb685b4ebbfb0108f3e}{data}} + i*batch;}
\DoxyCodeLine{00125         args.\mbox{\hyperlink{structarray__op__args_a82e13449271d083fbdd32c94f567789c}{arr\_2}} = mat\_b-\/>\mbox{\hyperlink{structtensor__2d_a4e4247a26be28cb685b4ebbfb0108f3e}{data}} + i*batch;}
\DoxyCodeLine{00126         args.\mbox{\hyperlink{structarray__op__args_a5695b4a702cd818e9602f73110df476e}{arr\_out}} = mat\_out-\/>\mbox{\hyperlink{structtensor__2d_a4e4247a26be28cb685b4ebbfb0108f3e}{data}}+ i*batch;}
\DoxyCodeLine{00127         \textcolor{keywordflow}{if} (i == num\_threads-\/1)\{}
\DoxyCodeLine{00128             args.\mbox{\hyperlink{structarray__op__args_a9d50a6471ff7d40764a6a7d59806db50}{length}} = batch+mat\_a-\/>\mbox{\hyperlink{structtensor__2d_a55ed2709aa79847a1dbd09e87e08deeb}{n\_elems}}\%num\_threads;}
\DoxyCodeLine{00129         \}}
\DoxyCodeLine{00130         \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00131         args.\mbox{\hyperlink{structarray__op__args_a9d50a6471ff7d40764a6a7d59806db50}{length}} = batch;}
\DoxyCodeLine{00132         \}}
\DoxyCodeLine{00133         args\_arr[i] = args;}
\DoxyCodeLine{00134     \}}
\DoxyCodeLine{00135 }
\DoxyCodeLine{00136     pthread\_t threads[num\_threads];}
\DoxyCodeLine{00137     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_threads; i++)\{}
\DoxyCodeLine{00138         \textcolor{keywordtype}{void}* args\_ptr = \&(args\_arr[i]);}
\DoxyCodeLine{00139         pthread\_create(\&(threads[i]), NULL, array\_sub, args\_ptr);}
\DoxyCodeLine{00140     \}}
\DoxyCodeLine{00141 }
\DoxyCodeLine{00142     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<num\_threads; i++)\{}
\DoxyCodeLine{00143         pthread\_join(threads[i], NULL);}
\DoxyCodeLine{00144     \}}
\DoxyCodeLine{00145     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00146 \}}

\end{DoxyCode}
